"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[571],{31:(e,a,s)=>{s.d(a,{A:()=>r});const r={authContainer:"auth_authContainer__v9O3Z",authWrap:"auth_authWrap__5-S-9",authForm:"auth_authForm__Po0S-",formGroup:"auth_formGroup__Q77ja",formInput:"auth_formInput__SMffn",errorMessage:"auth_errorMessage__pymrH",submitButton:"auth_submitButton__8iOR6",authLink:"auth_authLink__RoS-z"}},571:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var r=s(43),t=s(2),n=s(752),u=s(31),i=s(579);function o(){const{handleLogin:e}=(0,n.A)(),[a,s]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c,h]=(0,r.useState)(""),[m,d]=(0,r.useState)(!1);return(0,i.jsx)("div",{className:u.A.authWrap,children:(0,i.jsxs)("div",{className:u.A.authContainer,children:[(0,i.jsx)("h1",{children:"\u0412\u0445\u0456\u0434"}),(0,i.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),d(!0),h("");const r=await e({email:a,password:o});r.success||h(r.error)},className:u.A.authForm,children:[(0,i.jsxs)("div",{className:u.A.formGroup,children:[(0,i.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,i.jsx)("input",{type:"email",id:"email",value:a,onChange:e=>s(e.target.value),required:!0,className:u.A.formInput})]}),(0,i.jsxs)("div",{className:u.A.formGroup,children:[(0,i.jsx)("label",{htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c:"}),(0,i.jsx)("input",{type:"password",id:"password",value:o,onChange:e=>l(e.target.value),required:!0,className:u.A.formInput})]}),m&&c&&(0,i.jsx)("div",{className:u.A.errorMessage,children:c}),(0,i.jsx)("button",{type:"submit",className:u.A.submitButton,children:"\u0423\u0432\u0456\u0439\u0442\u0438"})]}),(0,i.jsxs)("p",{className:u.A.authLink,children:["\u041d\u0435\u043c\u0430\u0454 \u0430\u043a\u0430\u0443\u043d\u0442\u0443? ",(0,i.jsx)(t.N_,{to:"/auth/register",children:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f"})]})]})})}},752:(e,a,s)=>{s.d(a,{A:()=>o});var r=s(43),t=s(3),n=s(2),u=s(847),i=s(630);const o=()=>{const e=(0,t.wA)(),a=(0,n.Zp)();return{handleLogin:(0,r.useCallback)((async s=>{try{const r=await u.y.login(s),t=(await u.y.getUserByEmailWithToken(s.email,r.token))[0];return e((0,i.iD)({token:r.token,refreshToken:r.refreshToken,user:{id:t.id,email:t.email,username:t.username}})),a("/"),{success:!0}}catch(n){var r,t;return{success:!1,error:(null===(r=n.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message)||"\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 \u0437 \u0442\u0430\u043a\u0438\u043c email \u0430\u0431\u043e \u043f\u0430\u0440\u043e\u043b\u0435\u043c \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u0438\u0439"}}}),[e,a]),handleRegister:(0,r.useCallback)((async s=>{try{const r=await u.y.register(s),t=(await u.y.getUserByEmailWithToken(s.email,r.token))[0];return e((0,i.iD)({token:r.token,refreshToken:r.refreshToken,user:{id:t.id,email:t.email,username:t.username}})),a("/"),{success:!0}}catch(n){var r,t;return{success:!1,error:(null===(r=n.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message)||"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0440\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u0457"}}}),[e,a])}}}}]);
//# sourceMappingURL=571.66e6211a.chunk.js.map