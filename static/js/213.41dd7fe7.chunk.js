"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[213],{31:(e,a,s)=>{s.d(a,{A:()=>r});const r={authContainer:"auth_authContainer__v9O3Z",authWrap:"auth_authWrap__5-S-9",authForm:"auth_authForm__Po0S-",formGroup:"auth_formGroup__Q77ja",formInput:"auth_formInput__SMffn",errorMessage:"auth_errorMessage__pymrH",submitButton:"auth_submitButton__8iOR6",authLink:"auth_authLink__RoS-z"}},213:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var r=s(43),t=s(2),n=s(752),u=s(31),i=s(579);function o(){const{handleRegister:e}=(0,n.A)(),[a,s]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[m,c]=(0,r.useState)(""),[h,d]=(0,r.useState)(""),[p,v]=(0,r.useState)(""),[f,_]=(0,r.useState)(!1);return(0,i.jsx)("div",{className:u.A.authWrap,children:(0,i.jsxs)("div",{className:u.A.authContainer,children:[(0,i.jsx)("h1",{children:"Register"}),(0,i.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),_(!0),v(""),m!==h)return void v("\u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u044e\u0442\u044c");const r=await e({email:a,username:o,password:m});r.success||v(r.error)},className:u.A.authForm,children:[(0,i.jsxs)("div",{className:u.A.formGroup,children:[(0,i.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,i.jsx)("input",{type:"email",id:"email",value:a,onChange:e=>s(e.target.value),required:!0,className:u.A.formInput})]}),(0,i.jsxs)("div",{className:u.A.formGroup,children:[(0,i.jsx)("label",{htmlFor:"username",children:"Username:"}),(0,i.jsx)("input",{type:"text",id:"username",value:o,onChange:e=>l(e.target.value),required:!0,className:u.A.formInput})]}),(0,i.jsxs)("div",{className:u.A.formGroup,children:[(0,i.jsx)("label",{htmlFor:"password",children:"Password:"}),(0,i.jsx)("input",{type:"password",id:"password",value:m,onChange:e=>c(e.target.value),required:!0,className:u.A.formInput})]}),(0,i.jsxs)("div",{className:u.A.formGroup,children:[(0,i.jsx)("label",{htmlFor:"confirmPassword",children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c:"}),(0,i.jsx)("input",{type:"password",id:"confirmPassword",value:h,onChange:e=>d(e.target.value),required:!0,className:u.A.formInput})]}),f&&p&&(0,i.jsx)("div",{className:u.A.errorMessage,children:p}),(0,i.jsx)("button",{type:"submit",className:u.A.submitButton,children:"Register"})]}),(0,i.jsxs)("p",{className:u.A.authLink,children:["Already have an account? ",(0,i.jsx)(t.N_,{to:"/auth/login",children:"Login"})]})]})})}},752:(e,a,s)=>{s.d(a,{A:()=>o});var r=s(43),t=s(3),n=s(2),u=s(847),i=s(630);const o=()=>{const e=(0,t.wA)(),a=(0,n.Zp)();return{handleLogin:(0,r.useCallback)((async s=>{try{const r=await u.y.login(s),t=(await u.y.getUserByEmailWithToken(s.email,r.token))[0];return e((0,i.iD)({token:r.token,refreshToken:r.refreshToken,user:{id:t.id,email:t.email,username:t.username}})),a("/"),{success:!0}}catch(n){var r,t;return{success:!1,error:(null===(r=n.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message)||"User with this email or password not found"}}}),[e,a]),handleRegister:(0,r.useCallback)((async s=>{try{const r=await u.y.register(s),t=(await u.y.getUserByEmailWithToken(s.email,r.token))[0];return e((0,i.iD)({token:r.token,refreshToken:r.refreshToken,user:{id:t.id,email:t.email,username:t.username}})),a("/"),{success:!0}}catch(n){var r,t;return{success:!1,error:(null===(r=n.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message)||"Registration error"}}}),[e,a])}}}}]);
//# sourceMappingURL=213.41dd7fe7.chunk.js.map