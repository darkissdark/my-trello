"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[571],{31:(a,t,e)=>{e.d(t,{A:()=>u});const u={"auth-container":"auth_auth-container__7tusj","auth-wrap":"auth_auth-wrap__W9iC3","auth-title":"auth_auth-title__OZxWV","auth-label":"auth_auth-label__Bsngh","auth-input":"auth_auth-input__eKEmR","auth-error":"auth_auth-error__1hech","auth-password-strength":"auth_auth-password-strength__cIn05","auth-password-bar":"auth_auth-password-bar__jYQ4N",filled:"auth_filled__C2ld9",weak:"auth_weak__Halzm",fair:"auth_fair__MReUZ",medium:"auth_medium__0Q61c",good:"auth_good__wy4QT",strong:"auth_strong__kDTw4","auth-button":"auth_auth-button__wlfKN","auth-link-row":"auth_auth-link-row__QFm8x","auth-link":"auth_auth-link__JlDhg"}},571:(a,t,e)=>{e.r(t),e.d(t,{default:()=>o});var u=e(43),s=e(2),h=e(3),l=e(630),r=e(603),n=e(31),i=e(579);function o(){const a=(0,s.Zp)(),t=(0,h.wA)(),[e,o]=(0,u.useState)(""),[_,d]=(0,u.useState)(""),[c,m]=(0,u.useState)(""),[p,w]=(0,u.useState)(!1);return(0,i.jsx)("div",{className:n.A["auth-wrap"],children:(0,i.jsxs)("div",{className:n.A["auth-container"],children:[(0,i.jsx)("h2",{className:n.A["auth-title"],children:"\u0412\u0445\u0456\u0434"}),(0,i.jsxs)("form",{onSubmit:async u=>{u.preventDefault(),w(!0),m("");try{const{data:u}=await r.A.post("/login",{email:e,password:_}),s=(await r.A.get("/user?emailOrUsername=".concat(encodeURIComponent(e)),{headers:{Authorization:"Bearer ".concat(u.token)}})).data[0];t((0,l.iD)({token:u.token,refreshToken:u.refreshToken,user:{id:s.id,email:s.email,username:s.username}})),a("/")}catch(n){var s,h;const a=(null===(s=n.response)||void 0===s||null===(h=s.data)||void 0===h?void 0:h.message)||"\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 \u0437 \u0442\u0430\u043a\u0438\u043c email \u0430\u0431\u043e \u043f\u0430\u0440\u043e\u043b\u0435\u043c \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u0438\u0439";m(a)}},noValidate:!0,children:[(0,i.jsx)("label",{htmlFor:"email",className:n.A["auth-label"],children:"Email"}),(0,i.jsx)("input",{id:"email",className:n.A["auth-input"],type:"email",placeholder:"Email",value:e,onChange:a=>o(a.target.value),required:!0}),(0,i.jsx)("label",{htmlFor:"password",className:n.A["auth-label"],children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,i.jsx)("input",{id:"password",className:n.A["auth-input"],type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:_,onChange:a=>d(a.target.value),required:!0}),p&&c&&(0,i.jsx)("div",{className:n.A["auth-error"],children:c}),(0,i.jsx)("button",{type:"submit",className:"".concat(n.A["auth-button"]," button blue"),children:"\u0423\u0432\u0456\u0439\u0442\u0438"})]}),(0,i.jsxs)("div",{className:n.A["auth-link-row"],children:["\u0412\u043f\u0435\u0440\u0448\u0435 \u0443 \u043d\u0430\u0441?"," ",(0,i.jsx)(s.N_,{to:"/auth/register",className:n.A["auth-link"],children:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f"})]})]})})}}}]);
//# sourceMappingURL=571.9393a186.chunk.js.map